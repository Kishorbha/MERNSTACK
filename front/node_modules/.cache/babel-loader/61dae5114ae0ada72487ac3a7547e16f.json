{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/kisho/OneDrive/Desktop/projects/MERN/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/kisho/OneDrive/Desktop/projects/MERN/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\kisho\\\\OneDrive\\\\Desktop\\\\projects\\\\MERN\\\\front\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import{NavLink}from\"react-router-dom\";import RemoveRedEyeIcon from\"@mui/icons-material/RemoveRedEye\";import CreateIcon from\"@mui/icons-material/Create\";import DeleteOutlineIcon from\"@mui/icons-material/DeleteOutline\";import baseURL from\"../../api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),employee=_useState2[0],setEmployee=_useState2[1];var getdata=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(baseURL+\"/employee\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;if(res.status===422||!data){console.log(\"error \");alert(\"error\");}else{setEmployee(data);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function getdata(_x){return _ref.apply(this,arguments);};}();useEffect(function(){getdata();},[]);console.log(baseURL);var deleteuser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var res2,deletedata;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(baseURL+\"/employee/\".concat(id),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}});case 2:res2=_context2.sent;_context2.next=5;return res2.json();case 5:deletedata=_context2.sent;console.log(deletedata);if(res2.status===422||!deletedata){console.log(\"error\");}else{alert(\"user deleted\");console.log(\"user deleted\");getdata();}case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteuser(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"add_btn mt-2 mb-2\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/register\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary \",children:\"Add data\"})})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table mt-2\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"table-dark \",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Job\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:employee===null||employee===void 0?void 0:employee.map(function(employee,id){return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"table-light\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:id+1}),/*#__PURE__*/_jsx(\"td\",{children:employee.name}),/*#__PURE__*/_jsx(\"td\",{children:employee.email}),/*#__PURE__*/_jsx(\"td\",{children:employee.work}),/*#__PURE__*/_jsx(\"td\",{children:employee.mobile}),/*#__PURE__*/_jsxs(\"td\",{className:\"d-flex justify-content-around\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"view/\".concat(employee._id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",children:/*#__PURE__*/_jsx(RemoveRedEyeIcon,{})})}),/*#__PURE__*/_jsx(NavLink,{to:\"edit/\".concat(employee._id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:/*#__PURE__*/_jsx(CreateIcon,{})})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return deleteuser(employee._id);},children:/*#__PURE__*/_jsx(DeleteOutlineIcon,{})})]})]})},id);})})]})]})});};export default Home;","map":{"version":3,"sources":["C:/Users/kisho/OneDrive/Desktop/projects/MERN/front/src/Components/Home/index.js"],"names":["React","useState","useEffect","NavLink","RemoveRedEyeIcon","CreateIcon","DeleteOutlineIcon","baseURL","Home","employee","setEmployee","getdata","e","fetch","method","headers","res","json","data","status","console","log","alert","deleteuser","id","res2","deletedata","map","name","email","work","mobile","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\r\nimport { NavLink } from \"react-router-dom\"\r\nimport RemoveRedEyeIcon from \"@mui/icons-material/RemoveRedEye\"\r\nimport CreateIcon from \"@mui/icons-material/Create\"\r\nimport DeleteOutlineIcon from \"@mui/icons-material/DeleteOutline\"\r\nimport baseURL from \"../../api\"\r\n\r\nconst Home = () => {\r\n  const [employee, setEmployee] = useState([])\r\n\r\n  const getdata = async (e) => {\r\n    const res = await fetch(baseURL + \"/employee\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n\r\n    const data = await res.json()\r\n\r\n    if (res.status === 422 || !data) {\r\n      console.log(\"error \")\r\n      alert(\"error\")\r\n    } else {\r\n      setEmployee(data)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    getdata()\r\n  }, [])\r\n  console.log(baseURL)\r\n\r\n  const deleteuser = async (id) => {\r\n    const res2 = await fetch(baseURL + `/employee/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n    const deletedata = await res2.json()\r\n    console.log(deletedata)\r\n\r\n    if (res2.status === 422 || !deletedata) {\r\n      console.log(\"error\")\r\n    } else {\r\n      alert(\"user deleted\")\r\n      console.log(\"user deleted\")\r\n      getdata()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <div className=\"container \">\r\n        <div className=\"add_btn mt-2 mb-2\">\r\n          <NavLink to=\"/register\">\r\n            <button className=\"btn btn-primary \">Add data</button>\r\n          </NavLink>\r\n        </div>\r\n\r\n        <table className=\"table mt-2\">\r\n          <thead>\r\n            <tr className=\"table-dark \">\r\n              <th scope=\"col\">Id</th>\r\n              <th scope=\"col\">Full Name</th>\r\n              <th scope=\"col\">Email</th>\r\n              <th scope=\"col\">Job</th>\r\n              <th scope=\"col\">Contact</th>\r\n              <th scope=\"col\"></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {employee?.map((employee, id) => {\r\n              return (\r\n                <React.Fragment key={id}>\r\n                  <tr className=\"table-light\">\r\n                    <th scope=\"row\">{id + 1}</th>\r\n                    <td>{employee.name}</td>\r\n                    <td>{employee.email}</td>\r\n                    <td>{employee.work}</td>\r\n                    <td>{employee.mobile}</td>\r\n                    <td className=\"d-flex justify-content-around\">\r\n                      <NavLink to={`view/${employee._id}`}>\r\n                        <button className=\"btn btn-success\">\r\n                          <RemoveRedEyeIcon />\r\n                        </button>\r\n                      </NavLink>\r\n                      <NavLink to={`edit/${employee._id}`}>\r\n                        <button className=\"btn btn-primary\">\r\n                          <CreateIcon />\r\n                        </button>\r\n                      </NavLink>\r\n                      <button\r\n                        className=\"btn btn-danger\"\r\n                        onClick={() => deleteuser(employee._id)}\r\n                      >\r\n                        <DeleteOutlineIcon />\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                </React.Fragment>\r\n              )\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n"]},"metadata":{},"sourceType":"module"}